<div class="notification" ng-show="(!cserv.convRef)">


    <div ng-repeat="(noti, value) in notifications" ng-hide="blockedList[noti]">
        <h2 ng-show="$index==0">Notification</h2>
        <div ng-show="value.type == 'propose'">
            <strong>{{value.coder}}</strong> want to take <strong>{{value.pjName}}</strong> for {{value.price | currency : symbol}}<br>
            <span ng-show="value.message!='' ">Message: {{value.message}}</span><br>
            <button ng-click="accept(noti, value.coder, value.pjName, value.price)">Accept</button>
            <button ng-click="reject(noti, value.coder, value.pjName)">Reject</button>
        </div>

        <div ng-show="value.type == 'proposeAccepted'">
            Request for <a href="#!/projects/detail/{{noti}}"><strong>{{value.pjName}}</strong></a> had been accepted.<br>
            <button ng-click="start(noti, value.client)">  Ok</button>
        </div>

        <div ng-show="value.type == 'proposeRejected'">
            Request for <a href="#!/projects/detail/{{noti}}"><strong>{{value.pjName}}</strong></a> had been rejected.<br>
            <button ng-click="acceptRejection(noti)">  Ok</button>
        </div>

        <div ng-show="value.type == 'addContact'">
            {{noti}} added you as a contact.<br>
            <button ng-click="notificationClear(noti);addContact(noti, false)">  Ok</button>
            <button href="" ng-click="notificationClear(noti)">  Cancel</button>
        </div>

        <div ng-show="(value.type == '1toN')||(value.type == '1to1')">
            <a href="" ng-click="selConv(noti);notificationClear(noti)">{{noti}}</a>
            <span ng-init="getUnread(noti)" ng-show="Conversations[noti].unread"> ({{Conversations[noti].unread}})</span>
            <div ng-init="getNotiData(noti, value.type)"></div>
            <div ng-repeat="(key, data) in NotiData[noti].lastMessage">
                <span><strong>{{data.addresser}}</strong> said: {{data.text}}</span><br>
                <div>{{data.timeStamp| chatTimeStamp}}</div>
            </div>
        </div>

        <div ng-show="value.type == 'reminder'">
            <a href="#!/projects/detail/{{noti}}"><strong>{{noti}}</strong></a> is due on {{value.due}}.<br>
            <button ng-click="notificationClear(noti)">  Ok</button>
        </div>



    </div>
</div>